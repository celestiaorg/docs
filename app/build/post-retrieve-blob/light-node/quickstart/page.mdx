# Quickstart: post and retrieve your first blob

Celestia light nodes use data availability sampling (DAS) to verify that block data is available without downloading it all. They can also post and retrieve blobs (data) from the Celestia network.

import { Steps, Callout } from 'nextra/components'

<Steps>

## Install the binary

To post and retrieve blobs with your light node, use this script to install celestia-node:

**TODO: add versions so we can adjust networks versions the same way we do now, i.e. so -v v0.27.5-mocha isn't hardcoded, ctrl+f v0.27.5-mocha for this guide and replace with the variables**

```
bash -c "$(curl -sL https://raw.githubusercontent.com/celestiaorg/docs/main/public/celestia-node.sh)" -- -v v0.27.5-mocha
```

Check the version of celestia-node installed:
```
celestia version
```

Use `celestia --help` to see the CLI menu.

<Callout type="info">
You can visit the repo to build from source at https://github.com/celestiaorg/celestia-node.
</Callout>

## Initialize the node store

This step sets up configuration files and creates a keypair for your node. The `p2p.network` flag is used to specify the network you want to connect to. Use `mocha` for Mocha testnet. You'll see a new keypair that's created in your terminal. Be sure to save your mnemonic somewhere safe for future use!

```
celestia light init --p2p.network mocha
```

**Visit the [faucet](https://mocha.celenium.io/faucet)** and fund your key from the output. The address begins with `celestia1`.

## Start the node

Start the light node with:

```
celestia light start --p2p.network mocha --core.ip rpc-mocha.pops.one --core.port 9090
```

The `core.ip` flag is used to specify a consensus RPC endpoint you want to connect to.

Once you see this, your node is ready to go!

```
/_____/  /_____/  /_____/  /_____/  /_____/

Started celestia DA node
node version:  0.27.5-mocha
node type:  light
network:  mocha-4

/_____/  /_____/  /_____/  /_____/  /_____/
```

## Check your balance

```
celestia state balance
```

Your balance will return in utia, where 1 TIA = 1000000 utia.

## Post your first blob

Use `celestia blob submit [namespace] [data]` to post your first blob.

```bash
celestia blob submit 0x676d 0x676d
```

The namespace and data are hex-encoded strings. Namespaces are a way to permissionlessly categorize your data in Celestia. In other words, its a channel for you to post your data. You will keep track of blobs by their namespace, height, and commitment.

The response will look similar to:

```
{
  "result": {
    "height": 8554059,
    "commitments": [
      "0x457e23252db8edaa9a08d092ec1814ae9fadd47929b99bcceed947298613c94a"
    ]
  }
}
```

## Retrieve your first blob

Use `celestia blob get [height] [namespace] [commitment]` to retrieve your first blob.

```bash
celestia blob get 8554059 0x676d 0x457e23252db8edaa9a08d092ec1814ae9fadd47929b99bcceed947298613c94a
```

TODO: this still doesn't work right away...not good UX. Don't want to have to tell people to use trusted hash to basically eliminate the pruning window...

```
{
  "result": "header: syncing in progress: localHeadHeight: 8458501, requestedHeight: 8554059"
}
```

TODO: replace with actual response

```
celestia blob get 8554059 0x676d 0x457e23252db8edaa9a08d092ec1814ae9fadd47929b99bcceed947298613c94a

{
  "result": {
    "namespace": "0x676d",
    "data": "gm",
    "share_version": 0,
    "commitment": "0x457e23252db8edaa9a08d092ec1814ae9fadd47929b99bcceed947298613c94a",
    "index": 132
  }
}
```

</Steps>

You can also inspect this example on celenium explorer [here](https://mocha.celenium.io/blob?commitment=RX4jJS247aqaCNCS7BgUrp+t1HkpuZvM7tlHKYYTyUo=&hash=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZ20=&height=8554059).

Let's break it down:

- `namespace`: The [namespace](https://celestiaorg.github.io/celestia-app/namespace.html) you used to categorize your data.
- `data`: The data blob you posted to the network.
- `share_version`: The version of the [share](https://celestiaorg.github.io/celestia-app/shares.html). A share is a fixed-size data chunk that is associated with exactly one namespace.
- `commitment`: The commitment of the data (see [Blob Share Commitment Rules](https://celestiaorg.github.io/celestia-app/data_square_layout.html#blob-share-commitment-rules)).
- `index`: The [index](https://celestiaorg.github.io/celestia-app/shares.html#overview) of the data share in the square.

Congratulations! You've successfully learned how to run a light node to post and retrieve data from Celestia's Mocha testnet.
