import { Callout, Steps } from 'nextra/components'


# Using Twinkle to post and retrieve blobs on Celestia

[Twinkle](https://t.tech/) is a hosted API service that lets you interact with Celestia's data availability layer without running your own node. With an API key, you can post and retrieve blobs on Celestia.

<Steps>
## Sign up and get an API key

Go to [t.tech](https://t.tech) and create an account, then check the email sent to you to verify your account.
Once logged in, you can create an **API key** in the dashboard.

Twinkle offers [multiple pricing tiers](https://t.tech/pricing), this tutorial will use the **free tier** which allows for testnet blob submissions only.

<Callout type="info">
Even though the free tier is limited to testnet, you will still need to have a credit card on file to post free blobs. Your card will not be charged.
</Callout>

## Post a blob

Blobs are chunks of raw data you post to Celestia.
Each blob must be assigned a **namespace**, which is like a label or category that helps you group and later retrieve your data.

<Callout type="info">
Namespaces are [20-hex-char labels](https://www.convertstring.com/EncodeDecode/HexEncode) used to group blobs on Celestia. Use them to tag your data so you can query or prove inclusion. Namespaces make fetching and verifying your data efficient, you get the block-wide availability guarantee while working only with what matters to you.
</Callout>

To post a blob, use this `curl` command, replacing `$TWINKLE_API_KEY` with the actual API key you created above, and optionally replacing the namespace with your own.

```bash
curl -X POST https://t.tech/v0/blob \
  -H "Authorization: Bearer $TWINKLE_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
        "namespace": "aabbccddeeff00112233",
        "data": "69206C6F76652062696720626C6F6273",
        "network": "mocha-4"
      }'
```

* `namespace`: 20-char hex string (your label)
* `data`: your blob data, [hex-encoded](https://www.convertstring.com/EncodeDecode/HexEncode)
* `network`: set to `mocha-4` for testnet, defaults to mainnet if no value is specified

If successful, Twinkle will return details like:

```json
{
  "twinkleRequestId": "65b0f40a-f8b1-45c1-b7b6-55a0673c896d",
  "blockHeight": 8587578,
  "celestiaTransactionId": "e0e848d5dff5e75f46cda3fb9b0714c483f15919cd44b5aa58e5bd93a8797d49",
  "blockExplorer": {
    "transaction": "https://mocha-4.celenium.io/tx/e0e848d5dff5e75f46cda3fb9b0714c483f15919cd44b5aa58e5bd93a8797d49",
    "block": "https://mocha-4.celenium.io/block/8587578"
  },
  "gasFeeUsdCents": 1,
  "commitment": "nvxg4w9nCI13RZXc9EO3T2/VBMi9XwIsEoWjx37Khgs="
}
```
* `twinkleRequestId` — internal Twinkle ID for tracking this blob submission
* `blockHeight` — the Celestia block where your blob was included
* `celestiaTransactionId` — the hash of the Celestia transaction
* `blockExplorer` — direct links to view your blob on the Celenium Mocha testnet explorer
    * `transaction`: the blob’s transaction page
    * `block`: the full block view
* `gasFeeUsdCents` — estimated gas fee in USD cents
* `commitment` — the base64 commitment hash used for verifying and retrieving the blob later

## View your blob metadata on Celenium

You can view your blob metadata on the [Celenium explorer](http://celenium.io/) by opening the **`blockExplorer`->`transaction`** link provided in the API response.

## Retrieve your blob

To fetch the blob you posted, you’ll need:

* the **namespace** ([base64-encoded](https://www.convertstring.com/EncodeDecode/Base64Encode))
* the **blob commitment** (also base64)
* the **block height**

Use the `/v0/blob` endpoint. This example fetches the blob posted in the previous step:

```bash
curl "https://t.tech/v0/blob?namespace=AAAAAAAAAAAAAAAAAAAAAAAAAKq7zN3u/wARIjM=&blobCommitment=nvxg4w9nCI13RZXc9EO3T2/VBMi9XwIsEoWjx37Khgs=&height=8588106&network=mocha-4" \
  -H "Authorization: Bearer $TWINKLE_API_KEY"

```

Twinkle will return the blob in base64 format. Decode it to get your original data.

<Callout type="info">
When posting a blob, you send both the namespace and the blob data in hexadecimal format. When retrieving, you switch to base64. This is because Twinkle converts and stores blob data in base64 internally once it's published to Celestia. Using base64 on retrieval ensures you're querying the same encoding the chain uses for commitments and proofs. In short: write in hex, read in base64.
</Callout>
</Steps>

## Additional API endpoints

Twinkle offers [additional API endpoints](https://t.tech/docs), some of which are only available on the paid tiers.

## Summary

| Task                | Endpoint                           | Notes                             |
| ------------------- | ---------------------------------- | --------------------------------- |
| **Post a blob**     | `POST /v0/blob`                    | Send namespace + hex data         |
| **Retrieve a blob** | `GET /v0/blob`                     | Use base64 namespace + commitment |
| **Explorer**        | [celenium.io](https://celenium.io) | View blobs onchain                |
