---
sidebar_label: Managing Wallets in Docker
---

# Docker and `cel-key`

## Prerequisites

First, familiarize yourself with the [guide](../nodes/docker-images.mdx) on how to run `celestia-node` with Docker.

## Running your node

Run the Docker image (in this example, we are using a Light Node):

```bash
docker run --name celestia-node -e NODE_TYPE=light -e P2P_NETWORK=mocha -p 26659:26659 \
ghcr.io/celestiaorg/celestia-node:sha-747c9e5 celestia light start \
--core.ip https://rpc-mocha.pops.one \
--gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network mocha
```

List active containers in another window with:

```bash
docker ps
```

The response will look like:

```bash
CONTAINER ID   IMAGE           COMMAND                  CREATED          STATUS          PORTS      NAMES
<container_id>   celestia-node   "/entrypoint.sh cele…"   22 seconds ago   Up 21 seconds   2121/tcp   docker-compose-test-celestia-1
```

Interact with the container by replacing `<container_id>` for the container ID:

```bash
docker exec -ti <container_id> /bin/bash
```

Now, interact with `cel-key` to check for the key that was autogenerated when you started the node:

```bash
./cel-key list --keyring-backend test --node.type light
```

You can also export your key from the container. In the next section, you'll learn how to mount existing keys to the container.

## Mounting existing keys to container

In this example, we'll be mounting an existing key to the container. We're also using an existing image called `celestia-node`. This will mount the entire `/.celestia-light-<p2p_network>/keys` directory to your image.

Write a `docker-compose.yml` to accomplish this:

```yaml
version: '3.8'
services:
  celestia:
    image: celestia-node
    environment:
      - NODE_TYPE=light
    command: celestia light start --core.ip https://rpc-mocha.pops.one --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network mocha --keyring.accname my_celes_key
    volumes:
      - ${PWD}/keys:/root/.celestia-light-mocha/keys
    ports:
      - 26659:26659
```

Start the container by running the following command in the directory with your `docker-compose.yml`:

```bash
docker-compose up
```

List active containers in another window with:

```bash
docker ps
```

The response will look like:

```bash
CONTAINER ID   IMAGE           COMMAND                  CREATED          STATUS          PORTS      NAMES
<container_id>   celestia-node   "/entrypoint.sh cele…"   22 seconds ago   Up 21 seconds   2121/tcp   docker-compose-test-celestia-1
```

Interact with the container by replacing <container_id> for the container ID:

```bash
docker exec -ti <container_id> /bin/bash
```

Now, interact with `cel-key` to check your address matches the address you expect with the key you mounted:

```bash
root@<container_id>:/# ./cel-key list --keyring-backend test --node.type light
using directory:  ~/.celestia-light-mocha/keys
- address: celestia1wkhyhr7ngf0ayqlpnsnxg4d72hfs5453dvunm9
  name: my_celes_key
  pubkey: '{"@type":"/cosmos.crypto.secp256k1.PubKey","key":"A1/NsoY0RGL7Hqt4VWLg441GQKJsZ2fBUnZXipgns8oV"}'
  type: local
```
