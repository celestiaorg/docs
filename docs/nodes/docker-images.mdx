---
sidebar_label: Docker images
description: Running Celestia Node using Docker.
---

import mochaVersions from "../constants/mocha_versions.js";
import arabicaVersions from "../constants/arabica_versions.js";
import blockspaceraceVersions from "../constants/blockspacerace_versions.js";

# üê≥ Docker setup

This page has instructions to run `celestia-node` using Docker. If you are
looking for instructions to run `celestia-node` using a binary, please
refer to the [celestia-node page](./celestia-node.mdx).

Using Docker is the easiest way to run `celestia-node` for most
users. Docker is a containerization platform that allows you to run `celestia-node`
in an isolated environment.

This means that you can run `celestia-node` on your machine without having
to worry about installing and configuring all of the dependencies required
to run the node.

If you would like to learn more about
key management in Docker, visit the [Docker
and `cel-key` section](../../developers/celestia-node-key/#docker-and-cel-key).

The easiest way to install Docker is to use the Docker Desktop installer or
Ubuntu. You can
[follow the instructions for your operating system](https://docs.docker.com/engine/install).

## Prerequisites

- [Docker](https://docs.docker.com/get-docker) and basic understanding of Docker

## Quick start

```mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs groupID="node">
<TabItem value="light" label="Light">

<Tabs groupId="network">
{/* <TabItem value="blockspacerace" label="Blockspace Race">

## Blockspace Race light node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=light -e P2P_NETWORK=blockspacerace ghcr.io/celestiaorg/celestia-node:{blockspaceraceVersions['node-latest-tag']} celestia light start --core.ip rpc-blockspacerace.pops.one --p2p.network blockspacerace
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia light node running on the Blockspace Race testnet.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem> */}
<TabItem value="mocha" label="Mocha">

## Mocha testnet light node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=light -e P2P_NETWORK=mocha ghcr.io/celestiaorg/celestia-node:{mochaVersions['node-latest-tag']} celestia light start --core.ip rpc-mocha.pops.one --p2p.network mocha
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia light node running on the Mocha testnet.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="arabica" label="Arabica üèóÔ∏è">

## Arabica devnet light node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=light -e P2P_NETWORK=arabica ghcr.io/celestiaorg/celestia-node:{arabicaVersions['node-latest-tag']} celestia light start --core.ip consensus-validator.celestia-arabica-10.com --p2p.network arabica
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia light node running on the Arabica devnet.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
</Tabs>
</TabItem>
<TabItem value="bridge" label="Bridge">

<Tabs groupId="network">
{/* <TabItem value="blockspacerace" label="Blockspace Race">

## Blockspace Race bridge node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=bridge -e P2P_NETWORK=blockspacerace ghcr.io/celestiaorg/celestia-node:{blockspaceraceVersions['node-latest-tag']} celestia bridge start --core.ip rpc-blockspacerace.pops.one --p2p.network blockspacerace
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia bridge node running on the Blockspace Race testnet.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem> */}
<TabItem value="mocha" label="Mocha">

## Mocha bridge node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=bridge -e P2P_NETWORK=mocha ghcr.io/celestiaorg/celestia-node:{mochaVersions['node-latest-tag']} celestia bridge start --core.ip rpc-mocha.pops.one --p2p.network mocha
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia bridge node running on the Mocha network.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="arabica" label="Arabica üèóÔ∏è">

## Arabica bridge node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=bridge -e P2P_NETWORK=arabica ghcr.io/celestiaorg/celestia-node:{arabicaVersions['node-latest-tag']} celestia bridge start --core.ip consensus-validator.celestia-arabica-10.com --p2p.network arabica
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia bridge node running on the Arabica network.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
</Tabs>
</TabItem>
<TabItem value="full" label="Full">

<Tabs groupId="network">
{/* <TabItem value="blockspacerace" label="Blockspace Race">

## Blockspace Race full node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=full -e P2P_NETWORK=blockspacerace ghcr.io/celestiaorg/celestia-node:{blockspaceraceVersions['node-latest-tag']} celestia full start --core.ip rpc-blockspacerace.pops.one --p2p.network blockspacerace
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia full node running on the Blockspace Race testnet.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem> */}
<TabItem value="mocha" label="Mocha">

## Mocha full node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=full -e P2P_NETWORK=mocha ghcr.io/celestiaorg/celestia-node:{mochaVersions['node-latest-tag']} celestia full start --core.ip rpc-mocha.pops.one --p2p.network mocha
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia full storage node running on the Mocha network.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="arabica" label="Arabica üèóÔ∏è">

## Arabica full node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=full -e P2P_NETWORK=arabica ghcr.io/celestiaorg/celestia-node:{arabicaVersions['node-latest-tag']} celestia full start --core.ip consensus-validator.celestia-arabica-10.com --p2p.network arabica
</code></pre>

:::tip
Refer to
[the ports section of the celestia-node troubleshooting page](../../nodes/celestia-node-troubleshooting/#ports)
for information on which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia full storage node running on the Arabica network.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
</Tabs>
</TabItem>
</Tabs>
```

## Light node setup with persistent storage

If you delete a container that you started above, all data will be lost.
To avoid this, you can mount a volume to the container.
This will allow you to persist data even after the container is deleted.

First, you will need to create a directory on your host machine.
This directory will be used to store the data for the container.
Create a directory on your host machine and give it a name.
For example, you can name it `my-node-store`:

```bash
cd $HOME
mkdir my-node-store
```

Now, you can mount this directory to the container.
Before mounting a volume, you _may_ need to set permissions for
the user on the host machine by running:

```bash
sudo chown 10001:10001 $HOME/my-node-store
```

### Initialize the node store and key

In order to mount a volume to the container, you need to specify
the path to the volume. When you run your container, you can specify
the path to the volume using the `--volume` (or `-v` for short) flag.
In this command, we'll create our key and initialize the node store:

```bash
# --volume == -v [local path]:[container path]
docker run [...args] -v $HOME/my-node-store:/home/celestia celestia <node-type> init [...args]
```

An example init command for Mocha testnet will look similar to below:

```mdx-code-block
<pre><code>
docker run -e NODE_TYPE=light -e P2P_NETWORK=mocha -v $HOME/my-node-store:/home/celestia ghcr.io/celestiaorg/celestia-node:{mochaVersions['node-latest-tag']} celestia light init --p2p.network mocha
</code></pre>
```

### Start the node

Run the following command to start the node:

```bash
# --volume == -v [local path]:[container path]
docker run [...args] -v $HOME/my-node-store:/home/celestia celestia <node-type> start [...args]
```

A full start command will look similar to below. This is an example using
a light node on Mocha testnet:

```mdx-code-block
<pre><code>
docker run -e NODE_TYPE=light -e P2P_NETWORK=mocha -v $HOME/my-node-store:/home/celestia ghcr.io/celestiaorg/celestia-node:{mochaVersions['node-latest-tag']} celestia light start --core.ip rpc-mocha.pops.one --p2p.network mocha
</code></pre>
```

## Video walkthrough

<div class="youtube-wrapper">
  <iframe
    class="youtube-video"
    title="Running a Celestia light node"
    src="https://youtube.com/embed/WFubhQc8tGk"
    allowfullscreen
  ></iframe>
</div>

### 2.5 minute version

<div class="youtube-wrapper">
  <iframe
    class="youtube-video"
    title="Running a Celestia light node"
    src="https://youtube.com/embed/ROZv871Q7RM"
    allowfullscreen
  ></iframe>
</div>
