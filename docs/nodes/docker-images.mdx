---
sidebar_label: Docker images
---

import mochaVersions from "../../versions/mocha_versions.js";
import arabicaVersions from "../../versions/arabica_versions.js";
import blockspaceraceVersions from "../../versions/blockspacerace_versions.js";

# üê≥ Docker setup

This page has instructions to run `celestia-node` using Docker. If you are
looking for instructions to run `celestia-node` using a binary, please
refer to the [celestia-node](./celestia-node.mdx) page.

Using Docker is the easiest way to run `celestia-node` for most
users. Docker is a containerization platform that allows you to run `celestia-node`
in an isolated environment.

This means that you can run `celestia-node` on your machine without having
to worry about installing and configuring all of the dependencies required
to run the node.

If you would like to learn more about
key management in Docker, visit the [Docker
and `cel-key` section](../../developers/celestia-node-key/#docker-and-cel-key).

The easiest way to install Docker is to use the Docker Desktop installer or
Ubuntu. You can find the instructions for your operating system
[here](https://docs.docker.com/engine/install).

## Prerequisites

- [Docker](https://docs.docker.com/get-docker) and basic understanding of Docker

````mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs groupID="node">
<TabItem value="light" label="Light">

## Light node setup

<Tabs groupId="network">
<TabItem value="blockspacerace" label="Blockspace Race">

### Blockspace Race light node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=light -e P2P_NETWORK=blockspacerace ghcr.io/celestiaorg/celestia-node:{blockspaceraceVersions['node-latest-tag']} celestia light start --core.ip IP_ADDRESS --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network blockspacerace
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia light node running on the Blockspace Race testnet.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="mocha" label="Mocha">

### Mocha testnet setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=light -e P2P_NETWORK=mocha ghcr.io/celestiaorg/celestia-node:sha-{mochaVersions['node-latest-sha'].slice(0, 7)} celestia light start --core.ip https://rpc-mocha.pops.one --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network mocha
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia light node running on the Mocha testnet.

![mocha_light_docker](/img/nodes/mocha_light_docker.gif)

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="arabica" label="Arabica üèóÔ∏è">

### Arabica devnet setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=light -e P2P_NETWORK=arabica ghcr.io/celestiaorg/celestia-node:{arabicaVersions['node-latest-tag']} celestia light start --core.ip https://limani.celestia-devops.dev --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network arabica
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia light node running on the Arabica devnet.

![arabica_light_docker](/img/nodes/arabica_light_docker.gif)

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
</Tabs>
</TabItem>
<TabItem value="bridge" label="Bridge">

## Bridge node setup

<Tabs groupId="network">
<TabItem value="blockspacerace" label="Blockspace Race">

### Blockspace Race bridge node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=bridge -e P2P_NETWORK=blockspacerace ghcr.io/celestiaorg/celestia-node:{blockspaceraceVersions['node-latest-tag']} celestia bridge start --core.ip IP_ADDRESS --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network blockspacerace
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia bridge node running on the Blockspace Race testnet.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="mocha" label="Mocha">

### Mocha bridge node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=bridge -e P2P_NETWORK=mocha ghcr.io/celestiaorg/celestia-node:sha-{mochaVersions['node-latest-sha'].slice(0, 7)} celestia bridge start --core.ip https://rpc-mocha.pops.one --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network mocha
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia bridge node running on the Mocha network.

![mocha_bridge_docker](/img/nodes/mocha_bridge_docker.gif)

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="arabica" label="Arabica üèóÔ∏è">

### Arabica bridge node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=bridge -e P2P_NETWORK=arabica ghcr.io/celestiaorg/celestia-node:{arabicaVersions['node-latest-tag']} celestia bridge start --core.ip https://limani.celestia-devops.dev --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network arabica
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia bridge node running on the Arabica network.

![arabica_bridge_docker](/img/nodes/arabica_bridge_docker.gif)

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
</Tabs>
</TabItem>
<TabItem value="full" label="Full">

## Full node setup

<Tabs groupId="network">
<TabItem value="blockspacerace" label="Blockspace Race">

### Blockspace Race full node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=full -e P2P_NETWORK=blockspacerace ghcr.io/celestiaorg/celestia-node:{blockspaceraceVersions['node-latest-tag']} celestia full start --core.ip IP_ADDRESS --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network blockspacerace
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia full node running on the Blockspace Race testnet.

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="mocha" label="Mocha">

### Mocha full node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=full -e P2P_NETWORK=mocha ghcr.io/celestiaorg/celestia-node:sha-{mochaVersions['node-latest-sha'].slice(0, 7)} celestia full start --core.ip https://rpc-mocha.pops.one --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network mocha
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia full storage node running on the Mocha network.

![mocha_full_docker](/img/nodes/mocha_full_docker.gif)

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
<TabItem value="arabica" label="Arabica üèóÔ∏è">

### Arabica full node setup

Run the image from the command line:

<pre><code>
docker run -e NODE_TYPE=full -e P2P_NETWORK=arabica ghcr.io/celestiaorg/celestia-node:{arabicaVersions['node-latest-tag']} celestia full start --core.ip https://limani.celestia-devops.dev --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network arabica
</code></pre>

:::tip
Please refer to the [ports](../../nodes/celestia-node/#ports) section for information on
which ports are required to be open on your machine.
:::

Congratulations! You now have a Celestia full storage node running on the Arabica network.

![arabica_full_docker](/img/nodes/arabica_full_docker.gif)

If you would like to run the node with custom flags,
you can refer to the
[`celestia-node` tutorial](../../developers/node-tutorial#connect-to-a-public-core-endpoint) page.

</TabItem>
</Tabs>
</TabItem>
</Tabs>
````

## Persistent storage

If you delete a container that you started above, all data will be lost.
To avoid this, you can mount a volume to the container.
This will allow you to persist data even after the container is deleted.

First, you will need to create a directory on your host machine.
This directory will be used to store the data for the container.
Create a directory on your host machine and give it a name.
For example, you can name it `celestia-pwd`:

```bash
cd $HOME
mkdir celestia-pwd
```

Now, you can mount this directory to the container.
Before mounting a volume, you will need to set permissions for
the user on the host machine by running:

```bash
sudo chown 10001:10001 ./celestia-pwd
```

In order to mount a volume to the container, you need to specify
the path to the volume. When you run your container, you can specify
the path to the volume using the `--volume` (or `-v` for short) flag:

```bash
# --volume == -v [local path]:[container path]
docker run [...args] -v ./celestia-pwd:/home/celestia celestia <node-type> start [...args]
```

A full start command will look similar to below. This is an example using
a light node on Blockspace Race:

```bash
docker run -e NODE_TYPE=light -e P2P_NETWORK=blockspacerace -v ./celestia-pwd:/home/celestia ghcr.io/celestiaorg/celestia-node:v0.8.1 celestia light start --core.ip IP_ADDRESS --gateway --gateway.addr 127.0.0.1 --gateway.port 26659 --p2p.network blockspacerace
```
