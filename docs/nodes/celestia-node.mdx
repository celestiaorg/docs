---
sidebar_label: Installing celestia-node
---

import constants from "../../versions/constants.js";
import mochaVersions from "../../versions/mocha_versions.js";
import arabicaVersions from "../../versions/arabica_versions.js";
import blockspaceraceVersions from "../../versions/blockspacerace_versions.js"

# celestia-node

````mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
````

This tutorial goes over building and installing `celestia-node`. This
tutorial assumes you completed the steps in setting up your development
environment [here](./environment.mdx).

## Install celestia-node

````mdx-code-block
<Tabs groupId="network">
<TabItem value="blockspacerace" label="blockspacerace">

<Tabs groupId="operating-systems">
<TabItem value="amd" label="Ubuntu (AMD)">

Installing `celestia-node` for the blockspacerace testnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{blockspaceraceVersions['node-latest-tag']} <br/>
make build <br/>
make install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {blockspaceraceVersions['node-latest-tag']} <br/>
Commit: {blockspaceraceVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: amd64/linux <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="arm" label="Ubuntu (ARM)">

Installing `celestia-node` for the blockspacerace testnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{blockspaceraceVersions['node-latest-tag']} <br/>
make build <br/>
make install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {blockspaceraceVersions['node-latest-tag']} <br/>
Commit: {blockspaceraceVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: arm64/linux <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="apple" label="Mac (Apple)">

Installing `celestia-node` for the blockspacerace testnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{blockspaceraceVersions['node-latest-tag']} <br/>
make build <br/>
make go-install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {blockspaceraceVersions['node-latest-tag']} <br/>
Commit: {blockspaceraceVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: arm64/darwin <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="mac" label="Mac (Intel)">

Installing `celestia-node` for the blockspacerace testnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{blockspaceraceVersions['node-latest-tag']} <br/>
make build <br/>
make go-install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {blockspaceraceVersions['node-latest-tag']} <br/>
Commit: {blockspaceraceVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: amd64/darwin <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
</Tabs>

</TabItem>
<TabItem value="mocha" label="Mocha">

<Tabs groupId="operating-systems">
<TabItem value="amd" label="Ubuntu (AMD)">

Installing `celestia-node` for Mocha Testnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{mochaVersions['node-latest-tag']} <br/>
make build <br/>
make install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {mochaVersions['node-latest-tag']} <br/>
Commit: {mochaVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: amd64/linux <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="arm" label="Ubuntu (ARM)">

Installing `celestia-node` for Mocha Testnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{mochaVersions['node-latest-tag']} <br/>
make build <br/>
make install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {mochaVersions['node-latest-tag']} <br/>
Commit: {mochaVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: arm64/linux <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="apple" label="Mac (Apple)">

Installing `celestia-node` for Mocha Testnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{mochaVersions['node-latest-tag']} <br/>
make build <br/>
make go-install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {mochaVersions['node-latest-tag']} <br/>
Commit: {mochaVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: arm64/darwin <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="mac" label="Mac (Intel)">

Installing `celestia-node` for Mocha Testnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{mochaVersions['node-latest-tag']} <br/>
make build <br/>
make go-install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {mochaVersions['node-latest-tag']} <br/>
Commit: {mochaVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: amd64/darwin <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
</Tabs>

</TabItem>
<TabItem value="arabica" label="Arabica 🏗️">

<Tabs groupId="operating-systems">
<TabItem value="amd" label="Ubuntu (AMD)">

Installing `celestia-node` for Arabica Devnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{arabicaVersions['node-latest-tag']} <br/>
make build <br/>
make install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {arabicaVersions['node-latest-tag']} <br/>
Commit: {arabicaVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: amd64/linux <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="arm" label="Ubuntu (ARM)">

Installing `celestia-node` for Arabica Devnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{arabicaVersions['node-latest-tag']} <br/>
make build <br/>
make install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {arabicaVersions['node-latest-tag']} <br/>
Commit: {arabicaVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: arm64/linux <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="apple" label="Mac (Apple)">

Installing `celestia-node` for Arabica Devnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{arabicaVersions['node-latest-tag']} <br/>
make build <br/>
make go-install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {arabicaVersions['node-latest-tag']} <br/>
Commit: {arabicaVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: arm64/darwin <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
<TabItem value="mac" label="Mac (Intel)">

Installing `celestia-node` for Arabica Devnet means installing a specific version
to be compatible with the network.

Install the `celestia-node` binary by running the following commands:

<pre><code>
cd $HOME <br/>
rm -rf celestia-node <br/>
git clone https://github.com/celestiaorg/celestia-node.git <br/>
cd celestia-node/ <br/>
git checkout tags/{arabicaVersions['node-latest-tag']} <br/>
make build <br/>
make go-install <br/>
make cel-key <br/>
</code></pre>

Verify that the binary is working and check the version with the `celestia
version` command:

<pre><code>
$ celestia version <br/>
Semantic version: {arabicaVersions['node-latest-tag']} <br/>
Commit: {arabicaVersions['node-latest-sha']} <br/>
Build Date: Thu Dec 15 10:19:22 PM UTC 2022 <br/>
System version: amd64/darwin <br/>
Golang version: go{constants.golangNode} <br/>
</code></pre>

</TabItem>
</Tabs>

</TabItem>
</Tabs>
````
## Troubleshooting

### Network selection

Note: If you do not select a network, the default network will be 'Mocha'.

```sh
celestia <node-type> init --p2p.network <network> 
celestia <node-type> start --p2p.network <network> --core.ip <address> --gateway --gateway.addr <ip-address> --gateway.port <port>
```

> NOTE: It is advised before switching networks to reinitialize
  your node via `init` command. This is due to an old config being present.
  Re-initialisation will reset the config.

### Resetting your config

#### All nodes

If you an encounter an error, it is likely that an old config file is present:

```sh
Error: nodebuilder/share: interval must be positive; nodebuilder/core: invalid IP addr given:

# or

Error: nodebuilder/share: interval must be positive
```

You can re-initialize your node's config with the following commands:

:::tip
Save your config so custom values are not lost.
:::

1. First, remove your config:

  ```sh
  rm ~./<path-to-node-store>/config.toml
  ```

2. Re-initialize the node:

  ```sh
  celestia <node-type> init --p2p.network <network>
  ```

:::tip
If you have saved any custom value, add them back to the config.
:::

3. Start the node: 

  ```sh
  celestia <node-type> start --p2p.network <network>
  ```

##### Example for blockspacerace

Here's an example for blockspacerace with a light node:

```sh
rm -rf ~./celestia-light-blockspacerace-0/data
celestia light init --p2p.network blockspacerace
```

Your output will look similar to below:

```sh
2022-11-01T22:23:19.581+0100	INFO	node	nodebuilder/init.go:20	Initializing Light Node Store over '/Users/joshstein/.celestia-light-blockspacerace-0'
2022-11-01T22:23:19.582+0100	INFO	node	nodebuilder/init.go:51	Saving config	{"path": "/Users/joshstein/.celestia-light-blockspacerace-0/config.toml"}
2022-11-01T22:23:19.582+0100	INFO	node	nodebuilder/init.go:52	Node Store initialized
```

Then start your node:

```sh
celestia light start --p2p.network blockspacerace --core.ip <address> --gateway --gateway.addr <ip-address> --gateway.port <port>
```

### Clearing the data store

#### Bridge and full nodes

1. First, remove the data store:

  ```sh
  rm -rf ~./<path-to-node-store>/data
  rm -rf ~./<path-to-node-store>/transients
  rm -rf ~./<path-to-node-store>/index
  rm -rf ~./<path-to-node-store>/blocks
  ```

2. Re-initialize the node:

  ```sh
  celestia <node type> init --p2p.network <network>
  ```

3. Start the node: 

  ```sh
  celestia <node type> start --p2p.network <network>
  ```

#### Light nodes

1. First, remove the data store:

  ```sh
  rm -rf ~./<path-to-node-store>/data
  ```

2. Re-initialize the node:

  ```sh
  celestia light init --p2p.network <network>
  ```

3. Start the node: 

  ```sh
  celestia light start --p2p.network <network>
  ```
