import{c as o}from"./chunks/constants.c56ae276.js";import{o as t,c,O as n,k as a,t as l,l as p,a as e}from"./chunks/framework.6b456e69.js";const r={class:"language-bash vp-adaptive-theme"},y={class:"shiki github-dark vp-code-dark"},i={class:"line"},E={style:{color:"#9ECBFF"}},F={class:"shiki github-light vp-code-light"},d={class:"line"},u={style:{color:"#032F62"}},C={class:"language-bash vp-adaptive-theme"},h={class:"shiki github-dark vp-code-dark"},g={class:"line"},b={style:{color:"#9ECBFF"}},B={class:"shiki github-light vp-code-light"},m={class:"line"},q={style:{color:"#032F62"}},D=JSON.parse('{"title":"FeeGrant module for blobs submission","description":"","frontmatter":{"head":[["meta",{"property":"og:title","content":"FeeGrant module for blobs submission | Celestia Docs"}],["meta",{"property":"og:description","content":"The first modular blockchain network."}]]},"headers":[],"relativePath":"how-to-guides/feegrant-for-blobs.md","filePath":"how-to-guides/feegrant-for-blobs.md","lastUpdated":1757524808000}'),f={name:"how-to-guides/feegrant-for-blobs.md"},w=Object.assign(f,{setup(v){return(k,s)=>(t(),c("div",null,[s[32]||(s[32]=n(`<h1 id="feegrant-module-for-blobs-submission" tabindex="-1">FeeGrant module for blobs submission <a class="header-anchor" href="#feegrant-module-for-blobs-submission" aria-label="Permalink to &quot;FeeGrant module for blobs submission&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>This guide provides developers with the knowledge to use the FeeGrant module on the Celestia&#39;s Mocha testnet chain for granting a data availability node&#39;s account to submit blobs without constantly funding it, enabling a third-party account to cover the transaction fees.</p><h2 id="pre-requisites" tabindex="-1">Pre-requisites <a class="header-anchor" href="#pre-requisites" aria-label="Permalink to &quot;Pre-requisites&quot;">​</a></h2><ul><li>celestia-node binary (<code>celestia</code>) <a href="/how-to-guides/celestia-node">installed</a></li><li>Access to a Mocha node (e.g., <code>https://rpc-mocha.pops.one:443</code>)</li><li>Running DA Light node on Mocha testnet</li><li>One account with sufficient funds, the &quot;granter&quot;</li><li>One account with no funds, the &quot;grantee&quot;</li></ul><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>Each DA node contains a Celestia account that is used to pay for blobs submissions. To unify the fee payment process, the FeeGrant module allows a third-party account (granter) to pay for the fees incurred by a DA node&#39;s (grantee) account. You will need one account that will contain the funds, the granter, and another account that will be in the DA node you run to post blobs, the grantee. You will see the DA node&#39;s account once you initialize the node. Learn more about managing accounts with <code>cel-key</code> in <a href="/tutorials/celestia-node-key#create-a-wallet-with-celestia-node">create a wallet with celestia-node</a>.</p><h2 id="granting-fee-allowances-using-celestia-node" tabindex="-1">Granting fee allowances using celestia-node <a class="header-anchor" href="#granting-fee-allowances-using-celestia-node" aria-label="Permalink to &quot;Granting fee allowances using celestia-node&quot;">​</a></h2><p>To get started granting the fee allowance, you will need two separate keys to run the light node with. One to begin the FeeGrant as the granter and another to use the FeeGrant as the grantee.</p><p>Set some variables for your accounts for the remainder of the guide:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> GRANTER_ADDRESS</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">your-granter-account-addres</span><span style="color:#E1E4E8;">s</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> GRANTEE_ADDRESS</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">your-grantee-account-addres</span><span style="color:#E1E4E8;">s</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> RPC_URL</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">rpc-mocha.pops.one</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> RPC_PORT</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">9090</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> GRANTER_ADDRESS</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">your-granter-account-addres</span><span style="color:#24292E;">s</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> GRANTEE_ADDRESS</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">your-grantee-account-addres</span><span style="color:#24292E;">s</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> RPC_URL</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">rpc-mocha.pops.one</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> RPC_PORT</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">9090</span></span></code></pre></div><h3 id="feegrant-module-implementation-in-celestia-node" tabindex="-1">FeeGrant module implementation in celestia-node <a class="header-anchor" href="#feegrant-module-implementation-in-celestia-node" aria-label="Permalink to &quot;FeeGrant module implementation in celestia-node&quot;">​</a></h3><p>Using celestia-node, you can now easily give permission for other nodes to submit transactions on your behalf. It is also possible to revoke the grant.</p><p>The FeeGrant functionality can now be used during runtime without the need to restart the node.</p><h3 id="grant-permission-for-an-allowance-as-a-granter" tabindex="-1">Grant permission for an allowance as a granter <a class="header-anchor" href="#grant-permission-for-an-allowance-as-a-granter" aria-label="Permalink to &quot;Grant permission for an allowance as a granter&quot;">​</a></h3><p>First, start your node:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">light</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.ip</span><span style="color:#E1E4E8;"> $RPC_URL </span><span style="color:#79B8FF;">--core.port</span><span style="color:#E1E4E8;"> $RPC_PORT</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">light</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.ip</span><span style="color:#24292E;"> $RPC_URL </span><span style="color:#005CC5;">--core.port</span><span style="color:#24292E;"> $RPC_PORT</span></span></code></pre></div><p>Then, grant the fee to the grantee:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">grant-fee</span><span style="color:#E1E4E8;"> $GRANTEE_ADDRESS </span><span style="color:#79B8FF;">--amount</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2000</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">grant-fee</span><span style="color:#24292E;"> $GRANTEE_ADDRESS </span><span style="color:#005CC5;">--amount</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2000</span></span></code></pre></div><p>Note that the <code>--amount</code> flag specifies the spend limit (in utia) for the grantee. If not specified, the grantee does not have a spend limit.</p><h2 id="using-a-feegrant-allowance-as-a-grantee-in-celestia-node" tabindex="-1">Using a FeeGrant allowance as a grantee in celestia-node <a class="header-anchor" href="#using-a-feegrant-allowance-as-a-grantee-in-celestia-node" aria-label="Permalink to &quot;Using a FeeGrant allowance as a grantee in celestia-node&quot;">​</a></h2><p>Start your node:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">light</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.ip</span><span style="color:#E1E4E8;"> $RPC_URL </span><span style="color:#79B8FF;">--p2p.network=mocha</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.port</span><span style="color:#E1E4E8;"> $RPC_PORT</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">light</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.ip</span><span style="color:#24292E;"> $RPC_URL </span><span style="color:#005CC5;">--p2p.network=mocha</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.port</span><span style="color:#24292E;"> $RPC_PORT</span></span></code></pre></div><p>To check the balance of a light node, use the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">balance</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">balance</span></span></code></pre></div><p>Example response when the account balance does not exist:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;result&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;denom&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;utia&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;amount&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;result&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;denom&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;utia&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;amount&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;0&quot;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>This indicates that the light node currently does not have any funds.</p><p>Now submit a blob using the FeeGrant:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blob</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">submit</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x42690c204d39600fddd3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;gm&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--granter.address</span><span style="color:#E1E4E8;"> $GRANTER_ADDRESS</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blob</span><span style="color:#24292E;"> </span><span style="color:#032F62;">submit</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x42690c204d39600fddd3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;gm&#39;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--granter.address</span><span style="color:#24292E;"> $GRANTER_ADDRESS</span></span></code></pre></div><p>You&#39;ll see the height and the commitment of your blob:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;result&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;height&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1639397</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;commitments&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;19L/C4iBEsqXGzC5ZxJ3vtuGBiAdQAMIEnbYjKEGcac=&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;result&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;height&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1639397</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;commitments&quot;</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;19L/C4iBEsqXGzC5ZxJ3vtuGBiAdQAMIEnbYjKEGcac=&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="checking-account-balances-after-submission" tabindex="-1">Checking account balances after submission <a class="header-anchor" href="#checking-account-balances-after-submission" aria-label="Permalink to &quot;Checking account balances after submission&quot;">​</a></h2><p>Light node account: After submitting a blob, you can check the light node account&#39;s balance to verify that the fees have been deducted:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">balance</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">balance</span></span></code></pre></div><p>Example output showing fees are not deducted:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;result&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;denom&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;utia&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;amount&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;result&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;denom&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;utia&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;amount&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;0&quot;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="optional-revoke-permission-for-a-feegrant-allowance-as-a-granter" tabindex="-1">Optional: Revoke permission for a FeeGrant allowance as a granter <a class="header-anchor" href="#optional-revoke-permission-for-a-feegrant-allowance-as-a-granter" aria-label="Permalink to &quot;Optional: Revoke permission for a FeeGrant allowance as a granter&quot;">​</a></h2><p>To revoke the feegrant, run:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">state</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">revoke-grant-fee</span><span style="color:#E1E4E8;"> $GRANTEE_ADDRESS</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">state</span><span style="color:#24292E;"> </span><span style="color:#032F62;">revoke-grant-fee</span><span style="color:#24292E;"> $GRANTEE_ADDRESS</span></span></code></pre></div><h3 id="optional-submitting-a-blob-from-file-input" tabindex="-1">Optional: Submitting a blob from file input <a class="header-anchor" href="#optional-submitting-a-blob-from-file-input" aria-label="Permalink to &quot;Optional: Submitting a blob from file input&quot;">​</a></h3><p>To submit a blob from file input:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blob</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">submit</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--input-file</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blob.json</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blob</span><span style="color:#24292E;"> </span><span style="color:#032F62;">submit</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--input-file</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blob.json</span></span></code></pre></div><h2 id="optional-granting-fee-allowances-using-celestia-appd" tabindex="-1">Optional: Granting fee allowances using celestia-appd <a class="header-anchor" href="#optional-granting-fee-allowances-using-celestia-appd" aria-label="Permalink to &quot;Optional: Granting fee allowances using celestia-appd&quot;">​</a></h2><p>To grant fee allowances, allowing a third-party (granter) account to pay for the fees incurred by a Celestia data availability node (grantee) account, use the following commands.</p><p>Set your account addresses for grantee and granter, and the RPC URL:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> GRANTER_ADDRESS</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">your-granter-account-addres</span><span style="color:#E1E4E8;">s</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> GRANTEE_ADDRESS</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">your-grantee-account-addres</span><span style="color:#E1E4E8;">s</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> RPC_URL</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://rpc-mocha.pops.one</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> RPC_PORT</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">443</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> GRANTER_ADDRESS</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">your-granter-account-addres</span><span style="color:#24292E;">s</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> GRANTEE_ADDRESS</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">your-grantee-account-addres</span><span style="color:#24292E;">s</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> RPC_URL</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://rpc-mocha.pops.one</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> RPC_PORT</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">443</span></span></code></pre></div><p>Then, send the feegrant transaction:</p>`,48)),a("div",r,[s[14]||(s[14]=a("button",{title:"Copy Code",class:"copy"},null,-1)),s[15]||(s[15]=a("span",{class:"lang"},"bash",-1)),a("pre",y,[a("code",null,[s[5]||(s[5]=n(`<span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">feegrant</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">grant</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  $GRANTER_ADDRESS $GRANTEE_ADDRESS </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--node</span><span style="color:#E1E4E8;"> $RPC_URL</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;">$RPC_PORT </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--spend-limit</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1000000</span><span style="color:#9ECBFF;">utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--allowed-messages</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/cosmos.bank.v1beta1.MsgSend,/celestia.blob.v1.MsgPayForBlobs&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
`,10)),a("span",i,[s[0]||(s[0]=a("span",{style:{color:"#E1E4E8"}},"  ",-1)),s[1]||(s[1]=a("span",{style:{color:"#79B8FF"}},"--chain-id",-1)),s[2]||(s[2]=a("span",{style:{color:"#E1E4E8"}}," ",-1)),a("span",E,l(p(o).mochaChainId),1),s[3]||(s[3]=a("span",{style:{color:"#E1E4E8"}}," ",-1)),s[4]||(s[4]=a("span",{style:{color:"#79B8FF"}},"\\",-1))]),s[6]||(s[6]=n(`
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--keyring-backend</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">test</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--fees</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">20000</span><span style="color:#9ECBFF;">utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--broadcast-mode</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">block</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--yes</span></span>`,8))])]),a("pre",F,[a("code",null,[s[12]||(s[12]=n(`<span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">feegrant</span><span style="color:#24292E;"> </span><span style="color:#032F62;">grant</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  $GRANTER_ADDRESS $GRANTEE_ADDRESS </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--node</span><span style="color:#24292E;"> $RPC_URL</span><span style="color:#032F62;">:</span><span style="color:#24292E;">$RPC_PORT </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--spend-limit</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000000</span><span style="color:#032F62;">utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--allowed-messages</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/cosmos.bank.v1beta1.MsgSend,/celestia.blob.v1.MsgPayForBlobs&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
`,10)),a("span",d,[s[7]||(s[7]=a("span",{style:{color:"#24292E"}},"  ",-1)),s[8]||(s[8]=a("span",{style:{color:"#005CC5"}},"--chain-id",-1)),s[9]||(s[9]=a("span",{style:{color:"#24292E"}}," ",-1)),a("span",u,l(p(o).mochaChainId),1),s[10]||(s[10]=a("span",{style:{color:"#24292E"}}," ",-1)),s[11]||(s[11]=a("span",{style:{color:"#005CC5"}},"\\",-1))]),s[13]||(s[13]=n(`
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--keyring-backend</span><span style="color:#24292E;"> </span><span style="color:#032F62;">test</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--fees</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">20000</span><span style="color:#032F62;">utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--broadcast-mode</span><span style="color:#24292E;"> </span><span style="color:#032F62;">block</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--yes</span></span>`,8))])])]),s[33]||(s[33]=a("p",null,[e("Example: "),a("a",{href:"https://mocha.celenium.io/tx/802a17777fbeab416f6fa2c25f0c56dd9cc8a92afc2a96293d114ac7c22efb5c",target:"_blank",rel:"noreferrer"},"FeeGrant transaction on Mocha")],-1)),s[34]||(s[34]=a("h3",{id:"using-a-grantee-account-to-send-transactions-with-celestia-appd",tabindex:"-1"},[e("Using a grantee account to send transactions with celestia-appd "),a("a",{class:"header-anchor",href:"#using-a-grantee-account-to-send-transactions-with-celestia-appd","aria-label":'Permalink to "Using a grantee account to send transactions with celestia-appd"'},"​")],-1)),s[35]||(s[35]=a("p",null,"Once a fee grant has been established, the grantee can submit transactions using the granter's account to pay fees:",-1)),a("div",C,[s[30]||(s[30]=a("button",{title:"Copy Code",class:"copy"},null,-1)),s[31]||(s[31]=a("span",{class:"lang"},"bash",-1)),a("pre",h,[a("code",null,[s[21]||(s[21]=n(`<span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">blob</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pay-for-blob</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x42690c204d39600fddd3</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0x676d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--node</span><span style="color:#E1E4E8;"> $RPC_URL</span><span style="color:#9ECBFF;">:</span><span style="color:#E1E4E8;">$RPC_PORT </span><span style="color:#79B8FF;">\\</span></span>
`,4)),a("span",g,[s[16]||(s[16]=a("span",{style:{color:"#E1E4E8"}},"  ",-1)),s[17]||(s[17]=a("span",{style:{color:"#79B8FF"}},"--chain-id",-1)),s[18]||(s[18]=a("span",{style:{color:"#E1E4E8"}}," ",-1)),a("span",b,l(p(o).mochaChainId),1),s[19]||(s[19]=a("span",{style:{color:"#E1E4E8"}}," ",-1)),s[20]||(s[20]=a("span",{style:{color:"#79B8FF"}},"\\",-1))]),s[22]||(s[22]=n(`
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--from</span><span style="color:#E1E4E8;"> $GRANTEE_ADDRESS </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--keyring-backend</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">test</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--fee-granter</span><span style="color:#E1E4E8;"> $GRANTER_ADDRESS </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--fees</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">20000</span><span style="color:#9ECBFF;">utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--broadcast-mode</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">block</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--yes</span></span>`,12))])]),a("pre",B,[a("code",null,[s[28]||(s[28]=n(`<span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">blob</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pay-for-blob</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x42690c204d39600fddd3</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0x676d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--node</span><span style="color:#24292E;"> $RPC_URL</span><span style="color:#032F62;">:</span><span style="color:#24292E;">$RPC_PORT </span><span style="color:#005CC5;">\\</span></span>
`,4)),a("span",m,[s[23]||(s[23]=a("span",{style:{color:"#24292E"}},"  ",-1)),s[24]||(s[24]=a("span",{style:{color:"#005CC5"}},"--chain-id",-1)),s[25]||(s[25]=a("span",{style:{color:"#24292E"}}," ",-1)),a("span",q,l(p(o).mochaChainId),1),s[26]||(s[26]=a("span",{style:{color:"#24292E"}}," ",-1)),s[27]||(s[27]=a("span",{style:{color:"#005CC5"}},"\\",-1))]),s[29]||(s[29]=n(`
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--from</span><span style="color:#24292E;"> $GRANTEE_ADDRESS </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--keyring-backend</span><span style="color:#24292E;"> </span><span style="color:#032F62;">test</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--fee-granter</span><span style="color:#24292E;"> $GRANTER_ADDRESS </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--fees</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">20000</span><span style="color:#032F62;">utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--broadcast-mode</span><span style="color:#24292E;"> </span><span style="color:#032F62;">block</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--yes</span></span>`,12))])])]),s[36]||(s[36]=n(`<p>Note the <code>--fee-granter</code> flag which specifies the account that will pay for the transaction fees.</p><h3 id="optional-checking-the-granter-s-account" tabindex="-1">Optional: Checking the granter&#39;s account <a class="header-anchor" href="#optional-checking-the-granter-s-account" aria-label="Permalink to &quot;Optional: Checking the granter&#39;s account&quot;">​</a></h3><p>To confirm that the fees have been deducted from the granter&#39;s account that granted the fee allowance, run:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">query</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bank</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">balances</span><span style="color:#E1E4E8;"> $GRANTER_ADDRESS </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">--node </span><span style="color:#9ECBFF;">https://rpc-mocha.pops.one:443</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--denom</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">utia</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">query</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bank</span><span style="color:#24292E;"> </span><span style="color:#032F62;">balances</span><span style="color:#24292E;"> $GRANTER_ADDRESS </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">--node </span><span style="color:#032F62;">https://rpc-mocha.pops.one:443</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--denom</span><span style="color:#24292E;"> </span><span style="color:#032F62;">utia</span></span></code></pre></div><p>This output will show the remaining balance after fees have been deducted, confirming that the FeeGrant module is working as intended.</p><h2 id="optional-using-feegrant-with-curl-commands" tabindex="-1">Optional: Using FeeGrant with curl commands <a class="header-anchor" href="#optional-using-feegrant-with-curl-commands" aria-label="Permalink to &quot;Optional: Using FeeGrant with curl commands&quot;">​</a></h2><p>To grant fee allowances using curl commands, which can be useful for automation or when you need more direct control over the RPC calls, follow these steps.</p><p>First, make sure you have <code>curl</code> and <code>jq</code> installed on your system.</p><ol><li>Start your local light node for Mocha testnet:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">light</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">mocha</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.ip</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rpc-mocha.pops.one</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">light</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#24292E;"> </span><span style="color:#032F62;">mocha</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.ip</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rpc-mocha.pops.one</span></span></code></pre></div><ol start="2"><li>In a new terminal, export the authentication token:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">CELESTIA_NODE_AUTH_TOKEN</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">celestia</span><span style="color:#9ECBFF;"> light auth admin </span><span style="color:#79B8FF;">--p2p.network</span><span style="color:#9ECBFF;"> mocha)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">CELESTIA_NODE_AUTH_TOKEN</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">celestia</span><span style="color:#032F62;"> light auth admin </span><span style="color:#005CC5;">--p2p.network</span><span style="color:#032F62;"> mocha)</span></span></code></pre></div><ol start="3"><li>Get your node&#39;s address (this will be the granter address) and store it as a variable:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">GRANTER_ADDRESS</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">celestia</span><span style="color:#9ECBFF;"> state account-address </span><span style="color:#F97583;">|</span><span style="color:#9ECBFF;"> </span><span style="color:#B392F0;">jq</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">-r</span><span style="color:#9ECBFF;"> .result)</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#79B8FF;">echo</span><span style="color:#E1E4E8;"> $GRANTER_ADDRESS</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">GRANTER_ADDRESS</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">celestia</span><span style="color:#032F62;"> state account-address </span><span style="color:#D73A49;">|</span><span style="color:#032F62;"> </span><span style="color:#6F42C1;">jq</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">-r</span><span style="color:#032F62;"> .result)</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#005CC5;">echo</span><span style="color:#24292E;"> $GRANTER_ADDRESS</span></span></code></pre></div><ol start="4"><li>Set the grantee address (the address that will receive the grant):</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">GRANTEE_ADDRESS</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">grantee-addres</span><span style="color:#E1E4E8;">s</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">GRANTEE_ADDRESS</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">grantee-addres</span><span style="color:#24292E;">s</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><ol start="5"><li>Send the feegrant request using curl:</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">curl</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-H</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Content-Type: application/json&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">-H</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Authorization: Bearer </span><span style="color:#E1E4E8;">$CELESTIA_NODE_AUTH_TOKEN</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">-X</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">POST</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#79B8FF;">--data</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;{</span></span>
<span class="line"><span style="color:#9ECBFF;">       </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">id</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: 1,</span></span>
<span class="line"><span style="color:#9ECBFF;">       </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">jsonrpc</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">2.0</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">       </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">method</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">state.GrantFee</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">       </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">params</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: [</span></span>
<span class="line"><span style="color:#9ECBFF;">         </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#E1E4E8;">$GRANTEE_ADDRESS</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">         </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">42</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">         {</span></span>
<span class="line"><span style="color:#9ECBFF;">           </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">gas_price</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: 0.004,</span></span>
<span class="line"><span style="color:#9ECBFF;">           </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">is_gas_price_set</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: true,</span></span>
<span class="line"><span style="color:#9ECBFF;">           </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">gas</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: 142225,</span></span>
<span class="line"><span style="color:#9ECBFF;">           </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">key_name</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">my_celes_key</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">           </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">signer_address</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#E1E4E8;">$GRANTEE_ADDRESS</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">           </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">fee_granter_address</span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#9ECBFF;">: </span><span style="color:#79B8FF;">\\&quot;</span><span style="color:#E1E4E8;">$GRANTER_ADDRESS</span><span style="color:#79B8FF;">\\&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">         }</span></span>
<span class="line"><span style="color:#9ECBFF;">       ]</span></span>
<span class="line"><span style="color:#9ECBFF;">     }&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://localhost:26658/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">curl</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-H</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Content-Type: application/json&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#005CC5;">-H</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Authorization: Bearer </span><span style="color:#24292E;">$CELESTIA_NODE_AUTH_TOKEN</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#005CC5;">-X</span><span style="color:#24292E;"> </span><span style="color:#032F62;">POST</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#005CC5;">--data</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;{</span></span>
<span class="line"><span style="color:#032F62;">       </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">id</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: 1,</span></span>
<span class="line"><span style="color:#032F62;">       </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">jsonrpc</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">2.0</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#032F62;">       </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">method</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">state.GrantFee</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#032F62;">       </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">params</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: [</span></span>
<span class="line"><span style="color:#032F62;">         </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#24292E;">$GRANTEE_ADDRESS</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#032F62;">         </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">42</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#032F62;">         {</span></span>
<span class="line"><span style="color:#032F62;">           </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">gas_price</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: 0.004,</span></span>
<span class="line"><span style="color:#032F62;">           </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">is_gas_price_set</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: true,</span></span>
<span class="line"><span style="color:#032F62;">           </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">gas</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: 142225,</span></span>
<span class="line"><span style="color:#032F62;">           </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">key_name</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">my_celes_key</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#032F62;">           </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">signer_address</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#24292E;">$GRANTEE_ADDRESS</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#032F62;">           </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">fee_granter_address</span><span style="color:#005CC5;">\\&quot;</span><span style="color:#032F62;">: </span><span style="color:#005CC5;">\\&quot;</span><span style="color:#24292E;">$GRANTER_ADDRESS</span><span style="color:#005CC5;">\\&quot;</span></span>
<span class="line"><span style="color:#032F62;">         }</span></span>
<span class="line"><span style="color:#032F62;">       ]</span></span>
<span class="line"><span style="color:#032F62;">     }&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://localhost:26658/</span></span></code></pre></div><p>A successful response will look like this:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;id&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;jsonrpc&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;2.0&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;result&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;height&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">3068554</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;txhash&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;4AAFDA4CE622C56CE9681B7E3BE7773E3B36ABE6C02BD66111BD2F2491011FD2&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;logs&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;events&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">null</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;id&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;jsonrpc&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;2.0&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;result&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;height&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">3068554</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;txhash&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;4AAFDA4CE622C56CE9681B7E3BE7773E3B36ABE6C02BD66111BD2F2491011FD2&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;logs&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;events&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">null</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>You can verify the transaction on <a href="https://mocha.celenium.io/tx/4AAFDA4CE622C56CE9681B7E3BE7773E3B36ABE6C02BD66111BD2F2491011FD2?tab=messages" target="_blank" rel="noreferrer">Celenium Explorer</a> by searching for the transaction hash.</p><p>The parameters in the request are:</p><ul><li><code>gas_price</code>: The price of gas in utia</li><li><code>is_gas_price_set</code>: Boolean indicating if gas price is explicitly set</li><li><code>gas</code>: The gas limit for the transaction</li><li><code>key_name</code>: The name of your key in the keyring</li><li><code>signer_address</code>: The address being granted permission to use the granter&#39;s funds</li><li><code>fee_granter_address</code>: The address that will pay for the transaction fees</li></ul>`,23))]))}});export{D as __pageData,w as default};
