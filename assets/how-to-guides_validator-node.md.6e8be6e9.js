import{c as n}from"./chunks/constants.c56ae276.js";import{o as p,c as r,O as o,k as a,t as l,l as e,a as t}from"./chunks/framework.6b456e69.js";const c="/img/nodes/validator.png",i={class:"vp-code-group vp-adaptive-theme"},y={class:"blocks"},d={class:"language-bash vp-adaptive-theme active"},E={class:"shiki github-dark vp-code-dark"},u={class:"line"},h={style:{color:"#9ECBFF"}},F={class:"shiki github-light vp-code-light"},g={class:"line"},C={style:{color:"#032F62"}},m={class:"language-bash vp-adaptive-theme"},v={class:"shiki github-dark vp-code-dark"},b={class:"line"},k={style:{color:"#9ECBFF"}},B={class:"shiki github-light vp-code-light"},q={class:"line"},f={style:{color:"#032F62"}},w={class:"language-bash vp-adaptive-theme"},A={class:"shiki github-dark vp-code-dark"},x={class:"line"},_={style:{color:"#9ECBFF"}},I={class:"shiki github-light vp-code-light"},D={class:"line"},S={style:{color:"#032F62"}},L={class:"language-bash vp-adaptive-theme"},R={class:"shiki github-dark vp-code-dark"},T={class:"line"},O={style:{color:"#79B8FF"}},V={class:"shiki github-light vp-code-light"},P={class:"line"},N={style:{color:"#005CC5"}},H=JSON.parse('{"title":"Setting up a Celestia validator node","description":"Learn how to set up a Celestia validator node.","frontmatter":{"description":"Learn how to set up a Celestia validator node.","outline":"deep","head":[["meta",{"property":"og:title","content":"Setting up a Celestia validator node | Celestia Docs"}],["meta",{"property":"og:description","content":"Learn how to set up a Celestia validator node."}]]},"headers":[],"relativePath":"how-to-guides/validator-node.md","filePath":"how-to-guides/validator-node.md","lastUpdated":1759846787000}'),M={name:"how-to-guides/validator-node.md"},K=Object.assign(M,{setup($){return(U,s)=>(p(),r("div",null,[s[42]||(s[42]=o('<h1 id="setting-up-a-celestia-validator-node" tabindex="-1">Setting up a Celestia validator node <a class="header-anchor" href="#setting-up-a-celestia-validator-node" aria-label="Permalink to &quot;Setting up a Celestia validator node&quot;">​</a></h1><p>This tutorial will guide you through setting up a validator node on Celestia. Validator nodes allow you to participate in consensus in the Celestia network.</p><p><img src="'+c+'" alt="validator node"></p><h2 id="hardware-requirements" tabindex="-1">Hardware requirements <a class="header-anchor" href="#hardware-requirements" aria-label="Permalink to &quot;Hardware requirements&quot;">​</a></h2><p>See <a href="/how-to-guides/nodes-overview#recommended-celestia-node-requirements">hardware requirements</a>.</p><h2 id="setting-up-a-validator-node" tabindex="-1">Setting up a validator node <a class="header-anchor" href="#setting-up-a-validator-node" aria-label="Permalink to &quot;Setting up a validator node&quot;">​</a></h2><p>The following tutorial is done on an Ubuntu Linux 20.04 (LTS) x64 instance machine.</p><p>First, follow the instructions on <a href="/how-to-guides/consensus-node#set-up-a-consensus-node">setting up a consensus node</a>.</p><h3 id="wallet" tabindex="-1">Wallet <a class="header-anchor" href="#wallet" aria-label="Permalink to &quot;Wallet&quot;">​</a></h3><p>Follow <a href="/how-to-guides/celestia-app-wallet">the tutorial on creating a wallet</a>.</p><h2 id="optional-deploy-the-celestia-node" tabindex="-1">Optional: Deploy the celestia-node <a class="header-anchor" href="#optional-deploy-the-celestia-node" aria-label="Permalink to &quot;Optional: Deploy the celestia-node&quot;">​</a></h2><p>Running a bridge node is critical to the Celestia network as it enables the data availability and consensus nodes to communicate with one another. It is recommended to support the data availability network, but is not required.</p><p>If you are not running a bridge node, you can skip to <a href="#run-the-validator-node">run a validator node</a>.</p><p>This section describes part 2 of Celestia validator node setup: running a Celestia bridge node daemon.</p><h3 id="install-celestia-node" tabindex="-1">Install celestia-node <a class="header-anchor" href="#install-celestia-node" aria-label="Permalink to &quot;Install celestia-node&quot;">​</a></h3><p>You can <a href="/how-to-guides/celestia-node">follow the tutorial for installing <code>celestia-node</code></a></p><h3 id="initialize-the-bridge-node" tabindex="-1">Initialize the bridge node <a class="header-anchor" href="#initialize-the-bridge-node" aria-label="Permalink to &quot;Initialize the bridge node&quot;">​</a></h3><p>Run the following:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bridge</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.ip</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">UR</span><span style="color:#E1E4E8;">I</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--core.port</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">por</span><span style="color:#E1E4E8;">t</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bridge</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.ip</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">UR</span><span style="color:#24292E;">I</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--core.port</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">por</span><span style="color:#24292E;">t</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Refer to <a href="/how-to-guides/celestia-node-troubleshooting#ports">the ports section of the celestia-node troubleshooting page</a> for information on which ports are required to be open on your machine.</p><p>When connecting your bridge node to a localhost consensus node, ensure that gRPC is properly configured in your consensus node&#39;s <code>app.toml</code> file. The <code>[grpc]</code> section should have <code>enable = true</code> and the appropriate address setting for the bridge node to connect successfully.</p></div><p>Using an RPC of your own, or one from <a href="/how-to-guides/mainnet#integrations">Mainnet Beta</a>, <a href="/how-to-guides/mocha-testnet#integrations">Mocha testnet</a> or <a href="/how-to-guides/arabica-devnet#integrations">Arabica devnet</a>, initialize your node.</p><h3 id="run-the-bridge-node" tabindex="-1">Run the bridge node <a class="header-anchor" href="#run-the-bridge-node" aria-label="Permalink to &quot;Run the bridge node&quot;">​</a></h3><p>Run the following:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bridge</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bridge</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span></code></pre></div><h4 id="optional-start-the-bridge-node-with-systemd" tabindex="-1">Optional: start the bridge node with SystemD <a class="header-anchor" href="#optional-start-the-bridge-node-with-systemd" aria-label="Permalink to &quot;Optional: start the bridge node with SystemD&quot;">​</a></h4><p>Follow <a href="/how-to-guides/systemd">the tutorial on setting up the bridge node as a background process with SystemD</a>.</p><p>You have successfully set up a bridge node that is syncing with the network.</p><h2 id="run-the-validator-node" tabindex="-1">Run the validator node <a class="header-anchor" href="#run-the-validator-node" aria-label="Permalink to &quot;Run the validator node&quot;">​</a></h2><p>In order to create a validator on-chain, follow the steps below.</p>',29)),a("ol",null,[s[26]||(s[26]=o('<li><p>Start the consensus node</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span></span></code></pre></div></li>',1)),a("li",null,[s[25]||(s[25]=a("p",null,"Export an environment variable for the chain ID you want to run on:",-1)),a("div",i,[s[24]||(s[24]=o('<div class="tabs"><input type="radio" name="group-dcmzG" id="tab-AT6p20R" checked="checked"><label for="tab-AT6p20R">Mainnet Beta</label><input type="radio" name="group-dcmzG" id="tab-z2bS-7N"><label for="tab-z2bS-7N">Mocha</label><input type="radio" name="group-dcmzG" id="tab-mEJa-2B"><label for="tab-mEJa-2B">Arabica</label></div>',1)),a("div",y,[a("div",d,[s[6]||(s[6]=a("button",{title:"Copy Code",class:"copy"},null,-1)),s[7]||(s[7]=a("span",{class:"lang"},"bash",-1)),a("pre",E,[a("code",null,[a("span",u,[s[0]||(s[0]=a("span",{style:{color:"#F97583"}},"export",-1)),s[1]||(s[1]=a("span",{style:{color:"#E1E4E8"}}," CHAIN_ID",-1)),s[2]||(s[2]=a("span",{style:{color:"#F97583"}},"=",-1)),a("span",h,l(e(n).mainnetChainId),1)])])]),a("pre",F,[a("code",null,[a("span",g,[s[3]||(s[3]=a("span",{style:{color:"#D73A49"}},"export",-1)),s[4]||(s[4]=a("span",{style:{color:"#24292E"}}," CHAIN_ID",-1)),s[5]||(s[5]=a("span",{style:{color:"#D73A49"}},"=",-1)),a("span",C,l(e(n).mainnetChainId),1)])])])]),a("div",m,[s[14]||(s[14]=a("button",{title:"Copy Code",class:"copy"},null,-1)),s[15]||(s[15]=a("span",{class:"lang"},"bash",-1)),a("pre",v,[a("code",null,[a("span",b,[s[8]||(s[8]=a("span",{style:{color:"#F97583"}},"export",-1)),s[9]||(s[9]=a("span",{style:{color:"#E1E4E8"}}," CHAIN_ID",-1)),s[10]||(s[10]=a("span",{style:{color:"#F97583"}},"=",-1)),a("span",k,l(e(n).mochaChainId),1)])])]),a("pre",B,[a("code",null,[a("span",q,[s[11]||(s[11]=a("span",{style:{color:"#D73A49"}},"export",-1)),s[12]||(s[12]=a("span",{style:{color:"#24292E"}}," CHAIN_ID",-1)),s[13]||(s[13]=a("span",{style:{color:"#D73A49"}},"=",-1)),a("span",f,l(e(n).mochaChainId),1)])])])]),a("div",w,[s[22]||(s[22]=a("button",{title:"Copy Code",class:"copy"},null,-1)),s[23]||(s[23]=a("span",{class:"lang"},"bash",-1)),a("pre",A,[a("code",null,[a("span",x,[s[16]||(s[16]=a("span",{style:{color:"#F97583"}},"export",-1)),s[17]||(s[17]=a("span",{style:{color:"#E1E4E8"}}," CHAIN_ID",-1)),s[18]||(s[18]=a("span",{style:{color:"#F97583"}},"=",-1)),a("span",_,l(e(n).arabicaChainId),1)])])]),a("pre",I,[a("code",null,[a("span",D,[s[19]||(s[19]=a("span",{style:{color:"#D73A49"}},"export",-1)),s[20]||(s[20]=a("span",{style:{color:"#24292E"}}," CHAIN_ID",-1)),s[21]||(s[21]=a("span",{style:{color:"#D73A49"}},"=",-1)),a("span",S,l(e(n).arabicaChainId),1)])])])])])])]),s[27]||(s[27]=o(`<li><p>Export more environment variables.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># Pick a moniker name of your choice.</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> MONIKER</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;your_moniker&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Set VALIDATOR_WALLET to the same you defined previously.</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> VALIDATOR_WALLET</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;validator&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Set VALIDATOR_PUBKEY to the pubkey of your validator wallet.</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> VALIDATOR_PUBKEY</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">$(</span><span style="color:#B392F0;">celestia-appd</span><span style="color:#9ECBFF;"> tendermint show-validator)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># Pick a moniker name of your choice.</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> MONIKER</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;your_moniker&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Set VALIDATOR_WALLET to the same you defined previously.</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> VALIDATOR_WALLET</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;validator&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Set VALIDATOR_PUBKEY to the pubkey of your validator wallet.</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> VALIDATOR_PUBKEY</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">$(</span><span style="color:#6F42C1;">celestia-appd</span><span style="color:#032F62;"> tendermint show-validator)</span></span></code></pre></div></li><li><p>If you want to create a validator on a testnet that is on app version 4 (currently only Arabica), you will need to create a <code>validator.json</code> file.</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-Vqx_7" id="tab-rPR8eg4" checked="checked"><label for="tab-rPR8eg4">Arabica</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;&lt;</span><span style="color:#9ECBFF;">EOF</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> validator.json</span></span>
<span class="line"><span style="color:#9ECBFF;">{</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;pubkey&quot;: </span><span style="color:#E1E4E8;">$VALIDATOR_PUBKEY</span><span style="color:#9ECBFF;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;amount&quot;: &quot;1000000utia&quot;,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;moniker&quot;: &quot;</span><span style="color:#E1E4E8;">$MONIKER</span><span style="color:#9ECBFF;">&quot;,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;commission-rate&quot;: &quot;0.1&quot;,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;commission-max-rate&quot;: &quot;0.2&quot;,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;commission-max-change-rate&quot;: &quot;0.01&quot;,</span></span>
<span class="line"><span style="color:#9ECBFF;">  &quot;min-self-delegation&quot;: &quot;1&quot;</span></span>
<span class="line"><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">EOF</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;&lt;</span><span style="color:#032F62;">EOF</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> validator.json</span></span>
<span class="line"><span style="color:#032F62;">{</span></span>
<span class="line"><span style="color:#032F62;">  &quot;pubkey&quot;: </span><span style="color:#24292E;">$VALIDATOR_PUBKEY</span><span style="color:#032F62;">,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;amount&quot;: &quot;1000000utia&quot;,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;moniker&quot;: &quot;</span><span style="color:#24292E;">$MONIKER</span><span style="color:#032F62;">&quot;,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;commission-rate&quot;: &quot;0.1&quot;,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;commission-max-rate&quot;: &quot;0.2&quot;,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;commission-max-change-rate&quot;: &quot;0.01&quot;,</span></span>
<span class="line"><span style="color:#032F62;">  &quot;min-self-delegation&quot;: &quot;1&quot;</span></span>
<span class="line"><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#032F62;">EOF</span></span></code></pre></div></div></div></li><li><p>Create a validator</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-VA1Cb" id="tab-1StRNLG" checked="checked"><label for="tab-1StRNLG">Mainnet Beta</label><input type="radio" name="group-VA1Cb" id="tab-qwqqQ8U"><label for="tab-qwqqQ8U">Mocha</label><input type="radio" name="group-VA1Cb" id="tab-b2lkUBT"><label for="tab-b2lkUBT">Arabica</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">staking</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create-validator</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--amount=1000000utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--pubkey=</span><span style="color:#E1E4E8;">$VALIDATOR_PUBKEY</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--moniker=</span><span style="color:#E1E4E8;">$MONIKER</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--identity=</span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;">optional_identity_signature</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--website=</span><span style="color:#9ECBFF;">&quot;&lt;optional_validator_website&gt;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--security-contact=</span><span style="color:#9ECBFF;">&quot;&lt;optional_email_address_for_security_contact&gt;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--details=</span><span style="color:#9ECBFF;">&quot;A short and optional description of the validator.&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--chain-id=</span><span style="color:#E1E4E8;">$CHAIN_ID</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-rate=0.1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-max-rate=0.2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-max-change-rate=0.01</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--min-self-delegation=1000000</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--from=</span><span style="color:#E1E4E8;">$VALIDATOR_WALLET</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--keyring-backend=test</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--fees=21000utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--gas=220000</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">--yes</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">staking</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create-validator</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--amount=1000000utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--pubkey=</span><span style="color:#24292E;">$VALIDATOR_PUBKEY</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--moniker=</span><span style="color:#24292E;">$MONIKER</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--identity=</span><span style="color:#D73A49;">&lt;</span><span style="color:#005CC5;">optional_identity_signature</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--website=</span><span style="color:#032F62;">&quot;&lt;optional_validator_website&gt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--security-contact=</span><span style="color:#032F62;">&quot;&lt;optional_email_address_for_security_contact&gt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--details=</span><span style="color:#032F62;">&quot;A short and optional description of the validator.&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--chain-id=</span><span style="color:#24292E;">$CHAIN_ID</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-rate=0.1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-max-rate=0.2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-max-change-rate=0.01</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--min-self-delegation=1000000</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--from=</span><span style="color:#24292E;">$VALIDATOR_WALLET</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--keyring-backend=test</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--fees=21000utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--gas=220000</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">--yes</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">staking</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create-validator</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--amount=1000000utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--pubkey=</span><span style="color:#E1E4E8;">$VALIDATOR_PUBKEY</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--moniker=</span><span style="color:#E1E4E8;">$MONIKER</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--identity=</span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;">optional_identity_signature</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--website=</span><span style="color:#9ECBFF;">&quot;&lt;optional_validator_website&gt;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--security-contact=</span><span style="color:#9ECBFF;">&quot;&lt;optional_email_address_for_security_contact&gt;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--details=</span><span style="color:#9ECBFF;">&quot;A short and optional description of the validator.&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--chain-id=</span><span style="color:#E1E4E8;">$CHAIN_ID</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-rate=0.1</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-max-rate=0.2</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--commission-max-change-rate=0.01</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--min-self-delegation=1000000</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--from=</span><span style="color:#E1E4E8;">$VALIDATOR_WALLET</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--keyring-backend=test</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--fees=21000utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--gas=220000</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">--yes</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">staking</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create-validator</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--amount=1000000utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--pubkey=</span><span style="color:#24292E;">$VALIDATOR_PUBKEY</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--moniker=</span><span style="color:#24292E;">$MONIKER</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--identity=</span><span style="color:#D73A49;">&lt;</span><span style="color:#005CC5;">optional_identity_signature</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--website=</span><span style="color:#032F62;">&quot;&lt;optional_validator_website&gt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--security-contact=</span><span style="color:#032F62;">&quot;&lt;optional_email_address_for_security_contact&gt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--details=</span><span style="color:#032F62;">&quot;A short and optional description of the validator.&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--chain-id=</span><span style="color:#24292E;">$CHAIN_ID</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-rate=0.1</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-max-rate=0.2</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--commission-max-change-rate=0.01</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--min-self-delegation=1000000</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--from=</span><span style="color:#24292E;">$VALIDATOR_WALLET</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--keyring-backend=test</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--fees=21000utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--gas=220000</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">--yes</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">staking</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create-validator</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">validator.json</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--from</span><span style="color:#E1E4E8;"> $VALIDATOR_WALLET </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--keyring-backend</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">test</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--fees</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">21000</span><span style="color:#9ECBFF;">utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--gas=220000</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">--yes</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">staking</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create-validator</span><span style="color:#24292E;"> </span><span style="color:#032F62;">validator.json</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--from</span><span style="color:#24292E;"> $VALIDATOR_WALLET </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--keyring-backend</span><span style="color:#24292E;"> </span><span style="color:#032F62;">test</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--fees</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">21000</span><span style="color:#032F62;">utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--gas=220000</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">--yes</span></span></code></pre></div></div></div></li>`,3))]),s[43]||(s[43]=o(`<p>You should see output like:</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">code: 0</span></span>
<span class="line"><span style="color:#79B8FF;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">logs: []</span></span>
<span class="line"><span style="color:#79B8FF;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#79B8FF;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">tx: null</span></span>
<span class="line"><span style="color:#79B8FF;">txhash: &lt;tx-hash&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">code: 0</span></span>
<span class="line"><span style="color:#005CC5;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">logs: []</span></span>
<span class="line"><span style="color:#005CC5;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#005CC5;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">tx: null</span></span>
<span class="line"><span style="color:#005CC5;">txhash: &lt;tx-hash&gt;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>The options <code>--identity</code>, <code>--website</code>, <code>--security-contact</code> and <code>--details</code> are optional. The <code>--identity</code> value is used to verify identity with systems like <a href="https://keybase.io/" target="_blank" rel="noreferrer">Keybase</a> or UPort. If you need to add or update the values of these descriptive fields when your validator is already created, you can use the following command (remove the options that you don&#39;t want to change the values for):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">staking</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">edit-validator</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--new-moniker=</span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;">new_validator_name</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--identity=</span><span style="color:#F97583;">&lt;</span><span style="color:#79B8FF;">identity_signature</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--website=</span><span style="color:#9ECBFF;">&quot;&lt;validator_website&gt;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--security-contact=</span><span style="color:#9ECBFF;">&quot;&lt;email_address_for_security_contact&gt;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--details=</span><span style="color:#9ECBFF;">&quot;New description of the validator.&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--from=</span><span style="color:#E1E4E8;">$VALIDATOR_WALLET</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--keyring-backend=test</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--fees=21000utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">--gas=220000</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">staking</span><span style="color:#24292E;"> </span><span style="color:#032F62;">edit-validator</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--new-moniker=</span><span style="color:#D73A49;">&lt;</span><span style="color:#005CC5;">new_validator_name</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--identity=</span><span style="color:#D73A49;">&lt;</span><span style="color:#005CC5;">identity_signature</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--website=</span><span style="color:#032F62;">&quot;&lt;validator_website&gt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--security-contact=</span><span style="color:#032F62;">&quot;&lt;email_address_for_security_contact&gt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--details=</span><span style="color:#032F62;">&quot;New description of the validator.&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--from=</span><span style="color:#24292E;">$VALIDATOR_WALLET</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--keyring-backend=test</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--fees=21000utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">--gas=220000</span></span></code></pre></div></div><p>You should now be able to see your validator from a <a href="/how-to-guides/mocha-testnet#explorers">block explorer</a>.</p><h2 id="submit-your-validator-information" tabindex="-1">Submit your validator information <a class="header-anchor" href="#submit-your-validator-information" aria-label="Permalink to &quot;Submit your validator information&quot;">​</a></h2><p>After starting your node, please submit your node as a seed and peer to the <a href="https://github.com/celestiaorg/networks" target="_blank" rel="noreferrer">networks repository</a>.</p><h2 id="optional-delegate-stake-to-a-validator" tabindex="-1">Optional: Delegate stake to a validator <a class="header-anchor" href="#optional-delegate-stake-to-a-validator" aria-label="Permalink to &quot;Optional: Delegate stake to a validator&quot;">​</a></h2><p>Create an environment variable for the address:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">VALIDATOR_WALLET</span><span style="color:#F97583;">=&lt;</span><span style="color:#9ECBFF;">validator-wallet-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">VALIDATOR_WALLET</span><span style="color:#D73A49;">=&lt;</span><span style="color:#032F62;">validator-wallet-nam</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>If you want to delegate more stake to any validator, including your own you will need the <code>celestiavaloper</code> address of the validator in question. You can run the command below to get the <code>celestiavaloper</code> of your local validator wallet in case you want to delegate more to it:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keys</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">show</span><span style="color:#E1E4E8;"> $VALIDATOR_WALLET </span><span style="color:#79B8FF;">--bech</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">val</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-a</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keys</span><span style="color:#24292E;"> </span><span style="color:#032F62;">show</span><span style="color:#24292E;"> $VALIDATOR_WALLET </span><span style="color:#005CC5;">--bech</span><span style="color:#24292E;"> </span><span style="color:#032F62;">val</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-a</span></span></code></pre></div><p>After entering the wallet passphrase you should see a similar output:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">Enter</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">keyring</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">passphrase:</span></span>
<span class="line"><span style="color:#B392F0;">celestiavaloper1q3v5cugc8cdpud87u4zwy0a74uxkk6u43cv6hd</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">Enter</span><span style="color:#24292E;"> </span><span style="color:#032F62;">keyring</span><span style="color:#24292E;"> </span><span style="color:#032F62;">passphrase:</span></span>
<span class="line"><span style="color:#6F42C1;">celestiavaloper1q3v5cugc8cdpud87u4zwy0a74uxkk6u43cv6hd</span></span></code></pre></div><p>To delegate tokens to the <code>celestiavaloper</code> validator, as an example you can run:</p>`,14)),a("div",L,[s[40]||(s[40]=a("button",{title:"Copy Code",class:"copy"},null,-1)),s[41]||(s[41]=a("span",{class:"lang"},"bash",-1)),a("pre",R,[a("code",null,[s[31]||(s[31]=o(`<span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">staking</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">delegate</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;the_valoper_address_starts_with_celestiavaloper1...&gt; </span><span style="color:#79B8FF;">1000000</span><span style="color:#9ECBFF;">utia</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">\\</span></span>
`,4)),a("span",T,[s[28]||(s[28]=a("span",{style:{color:"#E1E4E8"}},"--from=$VALIDATOR_WALLET ",-1)),a("span",O,"--chain-id="+l(e(n).mochaChainId),1),s[29]||(s[29]=a("span",{style:{color:"#E1E4E8"}}," ",-1)),s[30]||(s[30]=a("span",{style:{color:"#79B8FF"}},"\\",-1))]),s[32]||(s[32]=t(`
`)),s[33]||(s[33]=a("span",{class:"line"},[a("span",{style:{color:"#E1E4E8"}},"--fees=21000utia")],-1))])]),a("pre",V,[a("code",null,[s[37]||(s[37]=o(`<span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">staking</span><span style="color:#24292E;"> </span><span style="color:#032F62;">delegate</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
<span class="line"><span style="color:#24292E;">&lt;the_valoper_address_starts_with_celestiavaloper1...&gt; </span><span style="color:#005CC5;">1000000</span><span style="color:#032F62;">utia</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">\\</span></span>
`,4)),a("span",P,[s[34]||(s[34]=a("span",{style:{color:"#24292E"}},"--from=$VALIDATOR_WALLET ",-1)),a("span",N,"--chain-id="+l(e(n).mochaChainId),1),s[35]||(s[35]=a("span",{style:{color:"#24292E"}}," ",-1)),s[36]||(s[36]=a("span",{style:{color:"#005CC5"}},"\\",-1))]),s[38]||(s[38]=t(`
`)),s[39]||(s[39]=a("span",{class:"line"},[a("span",{style:{color:"#24292E"}},"--fees=21000utia")],-1))])])]),s[44]||(s[44]=o(`<p>If successful, you should see a similar output as:</p><div class="language-console vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">console</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">code: 0</span></span>
<span class="line"><span style="color:#79B8FF;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">logs: []</span></span>
<span class="line"><span style="color:#79B8FF;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#79B8FF;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">tx: null</span></span>
<span class="line"><span style="color:#79B8FF;">txhash: &lt;tx-hash&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">code: 0</span></span>
<span class="line"><span style="color:#005CC5;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#005CC5;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">logs: []</span></span>
<span class="line"><span style="color:#005CC5;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#005CC5;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">tx: null</span></span>
<span class="line"><span style="color:#005CC5;">txhash: &lt;tx-hash&gt;</span></span></code></pre></div><p>You can check if the TX hash went through using the block explorer by inputting the <code>txhash</code> ID that was returned.</p><h2 id="optional-transaction-indexer-configuration-options" tabindex="-1">Optional: Transaction indexer configuration options <a class="header-anchor" href="#optional-transaction-indexer-configuration-options" aria-label="Permalink to &quot;Optional: Transaction indexer configuration options&quot;">​</a></h2><p>Follow the instructions under <a href="/how-to-guides/consensus-node#optional-transaction-indexer-configuration-options">transaction indexer configuration options</a> to configure your <code>config.toml</code> file to select which transactions to index.</p><h2 id="migrating-a-validator-to-another-machine" tabindex="-1">Migrating a validator to another machine <a class="header-anchor" href="#migrating-a-validator-to-another-machine" aria-label="Permalink to &quot;Migrating a validator to another machine&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p>Moving a validator to a new machine is a sensitive process that needs to be done carefully. If the transfer isn’t handled properly, it could result in double signing, which will permanently slash your validator, wipe out delegated tokens, and remove you from the active validator set. To avoid this, make sure to follow the steps closely and stop the old node completely before starting the migration.</p></div><h3 id="step-1-set-up-a-new-full-consensus-node" tabindex="-1">Step 1: Set up a new full consensus node <a class="header-anchor" href="#step-1-set-up-a-new-full-consensus-node" aria-label="Permalink to &quot;Step 1: Set up a new full consensus node&quot;">​</a></h3><p>First, set up a new <a href="/how-to-guides/consensus-node">consensus node</a> on the new server and make sure the node is fully synced with the chain. To check whether your node is synced, you can check the <code>catching_up</code> status using:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">celestia-appd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">status</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">jq</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;{ &quot;catching_up&quot;: .SyncInfo.catching_up }&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">celestia-appd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">status</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">jq</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;{ &quot;catching_up&quot;: .SyncInfo.catching_up }&#39;</span></span></code></pre></div><p>If the node is synced, the output will look like this:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;catching_up&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;catching_up&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="step-2-stop-the-old-validator" tabindex="-1">Step 2: Stop the old validator <a class="header-anchor" href="#step-2-stop-the-old-validator" aria-label="Permalink to &quot;Step 2: Stop the old validator&quot;">​</a></h3><p>After your new consensus node is synced, proceed to stop the current validator on the old machine. If you’re running it with <a href="/how-to-guides/systemd">SystemD</a>, use the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stop</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">SERVICE_NAM</span><span style="color:#E1E4E8;">E</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stop</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">SERVICE_NAM</span><span style="color:#24292E;">E</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>Additionally, it’s recommended to disable the service to prevent it from restarting automatically after a system reboot. You can do this with:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">disable</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">SERVICE_NAM</span><span style="color:#E1E4E8;">E</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">disable</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">SERVICE_NAM</span><span style="color:#24292E;">E</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>For extra safety, you may also delete the service file from the server:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-rf</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">/etc/systemd/system/</span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">SERVICE_NAM</span><span style="color:#E1E4E8;">E</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">.service</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-rf</span><span style="color:#24292E;"> </span><span style="color:#032F62;">/etc/systemd/system/</span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">SERVICE_NAM</span><span style="color:#24292E;">E</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">.service</span></span></code></pre></div><h3 id="step-3-backup-and-transfer-priv-validator-key-json" tabindex="-1">Step 3: Backup and transfer <code>priv_validator_key.json</code> <a class="header-anchor" href="#step-3-backup-and-transfer-priv-validator-key-json" aria-label="Permalink to &quot;Step 3: Backup and transfer \`priv_validator_key.json\`&quot;">​</a></h3><p>Once the old validator is stopped and the new node is synced, you’ll need to back up the <code>priv_validator_key.json</code> file from the old server (if it has not been backed up earlier). This file is located at:</p><div class="language-plaintext vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">~/.celestia-app/config/priv_validator_key.json</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">~/.celestia-app/config/priv_validator_key.json</span></span></code></pre></div><p>Copy this file to the same location on the new server. To verify that the file has been transferred correctly, compare its contents on both servers using:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.celestia-app/config/priv_validator_key.json</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.celestia-app/config/priv_validator_key.json</span></span></code></pre></div><h3 id="step-4-start-the-new-validator" tabindex="-1">Step 4: Start the new validator <a class="header-anchor" href="#step-4-start-the-new-validator" aria-label="Permalink to &quot;Step 4: Start the new validator&quot;">​</a></h3><p>If everything checks out, you can now restart the new node with the updated validator key:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">sudo</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">systemctl</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restart</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">SERVICE_NAM</span><span style="color:#E1E4E8;">E</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">sudo</span><span style="color:#24292E;"> </span><span style="color:#032F62;">systemctl</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restart</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">SERVICE_NAM</span><span style="color:#24292E;">E</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><p>After this, your validator will resume signing blocks on the new server, and the migration is complete. Validators operate within a 10,000 signed block window, and missing more than 2,500 blocks in this window will result in downtime jail. The faster you complete the transfer, the fewer blocks your validator will miss.</p><h2 id="additional-resources" tabindex="-1">Additional resources <a class="header-anchor" href="#additional-resources" aria-label="Permalink to &quot;Additional resources&quot;">​</a></h2><p>For additional resources, refer to <a href="/how-to-guides/consensus-node#extra-resources-for-consensus-nodes">the extra resources for consensus nodessection of the consensus node page</a>.</p><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h2><h3 id="_2-3-committed-an-invalid-block-wrong-block-header-version" tabindex="-1"><code>+2/3 committed an invalid block: wrong Block.Header.Version</code> <a class="header-anchor" href="#_2-3-committed-an-invalid-block-wrong-block-header-version" aria-label="Permalink to &quot;\`+2/3 committed an invalid block: wrong Block.Header.Version\`&quot;">​</a></h3><p>If you encounter an error like:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">2024-04-25</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">14</span><span style="color:#9ECBFF;">:48:24</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">6</span><span style="color:#9ECBFF;">:48PM</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ERR</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">CONSENSUS</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">FAILURE!!!</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">err=&quot;+2/3 committed an invalid block: wrong Block.Header.Version. Expected {11 1}, got {11 2}&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">module=consensus</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">stack=&quot;goroutine 214 [running]:\\nruntime/debug.Stack()\\n\\t/usr/local/go/src/runtime/debug/stack.go:24 +0x64\\ngithub.com/tendermint/tendermint/consensus.(*State).receiveRoutine.func2()\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:746 +0x44\\npanic({0x1b91180?, 0x400153b240?})\\n\\t/usr/local/go/src/runtime/panic.go:770 +0x124\\ngithub.com/tendermint/tendermint/consensus.(*State).finalizeCommit(0x400065ea88, 0x3)\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:1637 +0xd30\\ngithub.com/tendermint/tendermint/consensus.(*State).tryFinalizeCommit(0x400065ea88, 0x3)\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:1606 +0x26c\\ngithub.com/tendermint/tendermint/consensus.(*State).handleCompleteProposal(0x400065ea88, 0x3)\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:2001 +0x2d8\\ngithub.com/tendermint/tendermint/consensus.(*State).handleMsg(0x400065ea88, {{0x2b30a00, 0x400143e048}, {0x40002a61b0, 0x28}})\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:856 +0x1c8\\ngithub.com/tendermint/tendermint/consensus.(*State).receiveRoutine(0x400065ea88, 0x0)\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:782 +0x2c4\\ncreated by github.com/tendermint/tendermint/consensus.(*State).OnStart in goroutine 169\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:391 +0x110\\n&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">2024-04-25</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">14</span><span style="color:#032F62;">:48:24</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">6</span><span style="color:#032F62;">:48PM</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ERR</span><span style="color:#24292E;"> </span><span style="color:#032F62;">CONSENSUS</span><span style="color:#24292E;"> </span><span style="color:#032F62;">FAILURE!!!</span><span style="color:#24292E;"> </span><span style="color:#032F62;">err=&quot;+2/3 committed an invalid block: wrong Block.Header.Version. Expected {11 1}, got {11 2}&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">module=consensus</span><span style="color:#24292E;"> </span><span style="color:#032F62;">stack=&quot;goroutine 214 [running]:\\nruntime/debug.Stack()\\n\\t/usr/local/go/src/runtime/debug/stack.go:24 +0x64\\ngithub.com/tendermint/tendermint/consensus.(*State).receiveRoutine.func2()\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:746 +0x44\\npanic({0x1b91180?, 0x400153b240?})\\n\\t/usr/local/go/src/runtime/panic.go:770 +0x124\\ngithub.com/tendermint/tendermint/consensus.(*State).finalizeCommit(0x400065ea88, 0x3)\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:1637 +0xd30\\ngithub.com/tendermint/tendermint/consensus.(*State).tryFinalizeCommit(0x400065ea88, 0x3)\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:1606 +0x26c\\ngithub.com/tendermint/tendermint/consensus.(*State).handleCompleteProposal(0x400065ea88, 0x3)\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:2001 +0x2d8\\ngithub.com/tendermint/tendermint/consensus.(*State).handleMsg(0x400065ea88, {{0x2b30a00, 0x400143e048}, {0x40002a61b0, 0x28}})\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:856 +0x1c8\\ngithub.com/tendermint/tendermint/consensus.(*State).receiveRoutine(0x400065ea88, 0x0)\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:782 +0x2c4\\ncreated by github.com/tendermint/tendermint/consensus.(*State).OnStart in goroutine 169\\n\\t/go/pkg/mod/github.com/celestiaorg/celestia-core@v1.35.0-tm-v0.34.29/consensus/state.go:391 +0x110\\n&quot;</span></span></code></pre></div><p>then it is likely that the network has upgraded to a new app version but your consensus node was not prepared for the upgrade. To fix this, you&#39;ll need to update your binary to the latest version and restart your node with the relevant <code>--v2-upgrade-height</code> for the network you&#39;re running on. If your node still can&#39;t sync to the tip of the chain after the above steps, consider a <code>celestia-appd tendermint reset-state</code> to reset your node and start syncing from the genesis block.</p><ol><li>[Optional] Back up your validator keys.</li><li>[Optional] Back up the <code>data/priv_validator_state.json</code> inside your CELESTIA_HOME directory.</li><li>Remove DBs from your CELESTIA_HOME directory via: <code>celestia-appd tendermint reset-state</code>.</li><li>Remove the <code>data/application.db</code> inside your CELESTIA_HOME directory.</li><li>Download the latest binary for your network.</li><li>Restart your consensus node with the relevant <code>--v2-upgrade-height</code> for the network you&#39;re running on.</li></ol>`,36))]))}});export{H as __pageData,K as default};
